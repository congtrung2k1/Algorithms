#include <stdio.h>
char num[10][6][6] = {
    {"01110", "10001", "10001", "10001", "01110"},//0
    {"00100", "00100", "00100", "00100", "00100"},//1
    {"01110", "10001", "00010", "00100", "11111"},//2
    {"01110", "10001", "00110", "10001", "01110"},//3
    {"10010", "10010", "01111", "00010", "00010"},//4
    {"11111", "10000", "11110", "00001", "11110"},//5
    {"00010", "00100", "01110", "10001", "01110"},//6
    {"01110", "10001", "00010", "00010", "00010"},//7
    {"01110", "10001", "01110", "10001", "01110"},//8
    {"01110", "10001", "01110", "00010", "00010"},//9
};
int main() {
    int t;
    scanf("%d", &t);
    while(t--) {
        int i, j;
        int a, b, c, x;
        int g[5][5];
        for(i = 0; i < 5; i++) {
            for(j = 0; j < 5; j++) {
                scanf("%d", &x);
                g[i][j] = x+'0';
            }
        }
        int tmp, ans = 0;
        for(i = 0; i < 30; i++) {
            for(j = 0; j < 10; j++) {
                for(a = 0; a < 10; a++) {
                    int cnt = 0;
                    for(b = 0; b < 5; b++)
                        for(c = 0; c < 5; c++)
                            if(g[b][c] == num[a][b][c])
                                cnt++;
                    if(cnt == 25)
                        ans = a;
                }
                tmp = g[1][1];
                g[1][1] = g[1][2];
                g[1][2] = g[1][3];
                g[1][3] = g[2][3];
                g[2][3] = g[3][3];
                g[3][3] = g[3][2];
                g[3][2] = g[3][1];
                g[3][1] = g[2][1];
                g[2][1] = tmp;
            }
            tmp = g[0][0];
            g[0][0] = g[0][1];
            g[0][0] = g[0][1];
            g[0][1] = g[0][2];
            g[0][2] = g[0][3];
            g[0][3] = g[0][4];
            g[0][4] = g[1][4];
            g[1][4] = g[2][4];
            g[2][4] = g[3][4];
            g[3][4] = g[4][4];
            g[4][4] = g[4][3];
            g[4][3] = g[4][2];
            g[4][2] = g[4][1];
            g[4][1] = g[4][0];
            g[4][0] = g[3][0];
            g[3][0] = g[2][0];
            g[2][0] = g[1][0];
            g[1][0] = tmp;
        }
        printf("%d\n", ans);
    }
    return 0;
}
